'use strict';var $g;m("mr.IssueSeverity",{D9:"fatal",rba:"warning",L$:"notification"},void 0);m("mr.IssueAction",{q9:"dismiss",t$:"learn_more"},void 0);var ah=function(a,b,c){this.routeId=null;this.severity=b;this.isBlocking="fatal"==this.severity?!0:!1;this.title=a;this.message=null;this.defaultAction=c;this.helpPageId=this.secondaryActions=null};ah.prototype.S3=function(a){this.helpPageId=a;return this};ah.prototype.t5=function(a){this.secondaryActions=a;return this};
ah.prototype.Y3=function(a){if(!a&&"fatal"==this.severity)throw Error("All FATAL issues must be blocking.");this.isBlocking=a;return this};var bh=function(a){this.Ib=a;this.Yk=t()},ch=C("mr.Timing");bh.prototype.Gu=function(a,b){null!=b&&(a+="_"+b);return a};bh.prototype.Pk=function(a){this.Ib=a};bh.prototype.end=function(a){var b=t()-this.Yk;dh(this.Gu(this.Ib,a),b)};var dh=function(a,b){0>b&&(E(ch,"Timing analytics event with negative time"),b=0);1E4<b&&(b=1E4);try{chrome.metricsPrivate.recordTime(a,b)}catch(c){E(ch,"Failed to record time "+b+" in "+a)}},eh=function(a){bh.call(this,a)};u(eh,bh);var fh=C("mr.MediumTiming");
eh.prototype.end=function(a){var b=t()-this.Yk;a=this.Gu(this.Ib,a);if(0>b)E(fh,"Timing analytics event with negative time");else{1E4>b&&(b=1E4);18E4<b&&(b=18E4);try{chrome.metricsPrivate.recordMediumTime(a,b)}catch(c){E(fh,"Failed to record time "+b+" in "+a)}}};var gh=function(a){bh.call(this,a)};u(gh,bh);var hh=C("mr.LongTiming");
gh.prototype.end=function(a){var b=t()-this.Yk;a=this.Gu(this.Ib,a);if(0>b)E(hh,"Timing analytics event with negative time");else{18E4>b&&(b=18E4);36E5<b&&(b=36E5);try{chrome.metricsPrivate.recordLongTime(a,b)}catch(c){E(hh,"Failed to record time "+b+" in "+a)}}};
var ih=C("mr.Analytics"),jh=function(a){try{chrome.metricsPrivate.recordUserAction(a)}catch(b){E(ih,"Failed to record event "+a)}},kh=function(a,b,c){var e,f=0,g;for(g in c)f++,c[g]==b&&(e=g);if(l(e)){c={metricName:a,type:"histogram-linear",min:1,max:f,buckets:f+1};try{chrome.metricsPrivate.recordValue(c,b)}catch(k){E(ih,"Failed to record enum value "+e+" ("+b+") in "+a,k)}}else D(ih,"Unknown analytics value, "+b+" for histogram, "+a,Error())};var lh={W8:0,U8:1,Y8:2,V8:3,C8:4,X8:5,Y9:6,Xaa:7,m9:8,oz:9},mh=function(a){kh("MediaRouter.Mirror.Capturing.Failure",a,lh)};var nh=function(){return null!=hc&&-1!=hc.indexOf("CrOS")},oh=function(){var a=hc;if(!n(a))return!1;a=a.match(/Windows NT \d+.\d+/);if(null===a||!Ca(a))return!1;a=a[0];a=a.match(/\d+.\d+/);if(null===a||!Ca(a))return!1;a=a[0];return 6.2<=parseFloat(a)},ph=function(){return nh()?"ChromeOS":dd?"Windows":cd?"Mac":ed?"Linux":"Other"};var qh=function(a){this.Vi=a;this.ld=this.Rm=null;this.a=C("mr.mirror.MediaStream")},rh={message:"empty-stream"};d=qh.prototype;d.M4=function(a){this.Rm=a};d.mC=function(){return this.Vi};d.start=function(){return this.Vi.GE()?this.H6():this.y6()};
d.H6=function(){var a=this.Vi.XJ();F(this.a,"Starting tab capture with constraints "+JSON.stringify(a));return(new ie(function(b,c){chrome.tabCapture.capture(a,function(a){a?(this.pJ(a),b(this)):c(Error(chrome.runtime.lastError&&chrome.runtime.lastError.message?chrome.runtime.lastError.message:rh))}.bind(this));df(function(){c(Error("chrome.tabCapture.capture failed to call its callback"))},5E3,this)},this)).na(function(a){this.YF(a)},this)};
d.fW=function(a){a&&F(this.a,"Track "+JSON.stringify(a.target)+" ended");this.stop()};d.YF=function(a){var b="";a.name&&(b=a.name);a.message&&(b&&(b+="-"),b+=a.message);a=this.Vi.yt;"tab"==a&&"empty_stream"==b?mh(0):"desktop"==a&&"Error-timeout"==b?mh(1):"desktop"==a&&"Error-user_cancel"==b?mh(3):"tab"==a&&"Error-timeout"==b?mh(5):mh(9);throw Error("Failed to capture "+this.Vi.yt);};
d.y6=function(){return(new ie(function(a,b){var c=["screen","audio"];"Linux"==ph()&&c.push("window");var e=chrome.desktopCapture.chooseDesktopMedia(c,a);df(function(){chrome.desktopCapture.cancelChooseDesktopMedia(e);b(Error("timeout"))},6E4,this)},this)).then(function(a){var b=this.Vi.XJ(a);F(this.a,"Starting desktop capture with constraints "+JSON.stringify(b));return new ie(function(a,e){navigator.webkitGetUserMedia(b,a,e)})},null,this).then(function(a){if(a)this.pJ(a);else throw Error(rh);return this},
null,this).na(function(a){this.YF(a)},this)};d.pJ=function(a){this.ld=a;a.getTracks().forEach(function(a){a.onended=this.fW.bind(this)},this)};d.stop=function(){this.ld&&(this.ld.getTracks().forEach(function(a){a.onended=null;a.stop()}),this.ld=null,this.Rm&&this.Rm())};var th=function(a){return sh(a)||"urn:x-org.chromium.media:source:desktop"==a},uh=["https://docs.google.com"],sh=function(a){return Ma(a,"urn:x-org.chromium.media:source:tab:")||-1!=a.indexOf("0F5096E8")};var vh=function(a){return(new ie(function(b){chrome.tabs.get(a,b)})).then(function(b){if(!b)throw Error("No such tab "+a);return b})};var wh=chrome.i18n.getMessage("1639753794700094338");var xh=function(a,b){ve.call(this);this.F2=a;this.Sh=b;this.dh=this.Pa=null;this.m=C("mr.mirror.Service."+a);this.wG=r(this.dW,this);this.xl=!1};u(xh,ve);d=xh.prototype;d.getName=function(){return this.F2};d.On=function(a,b,c,e){F(this.m,"Start mirroring on route "+a.id);return sh(b)?vh(a.oe.tabId).then(function(){return this.nB(a,b,c,e)},function(a){this.oF(a);throw a;},this):this.nB(a,b,c,e)};
d.nB=function(a,b,c,e){var f=this.Ej(b,c);return this.NJ().then(function(){return(new qh(f.mC())).start()}).then(function(b){this.dh=b;b.M4(r(this.Rm,this,b));return e?e(a):a},null,this).then(function(a){this.Pa=this.Nt(f,a);return this.Pa.start(this.dh.ld)},null,this).then(function(){f.HE()?(chrome.tabs.onUpdated.addListener(this.wG),this.Pa.L7(a.oe.tabId).then(this.Pa.Fx.bind(this.Pa),function(a){D(this.m,"Failed to obtain initial tab info.",a)},this),this.ix()):(this.Pa.RI("Capturing Desktop",
"Capturing Desktop",null),this.ex(),this.Pa.Fx());this.aO(c,this.dh);return this.Pa.Fa},null,this).na(function(a){this.oF(a);this.If();throw a;},this)};d.oF=function(a){var b="";a.name&&(b=a.name);a.message&&(b&&(b+="-"),b+=a.message);b||(b="Error-unknown");this.gx(b)};d.Rm=function(a){this.dh==a&&(this.hx(),this.If())};d.NJ=function(){return this.If().then(function(a){a&&this.fx();return a},null,this)};
d.If=function(){if(this.xl)return H(!1);this.xl=!0;chrome.tabs.onUpdated.removeListener(this.wG);this.dh&&(this.dh.stop(),this.dh=null);if(this.Pa)return this.$z().then(function(){this.Pa&&(this.Pa.stop(),this.Pa.ab(),this.Sh.Bw(this.Pa.Fa.id),this.Pa=null);this.xl=!1;return!0},function(a){D(this.m,"Error cleaning up",a);this.xl=!1},this);this.xl=!1;return H(!1)};d.$z=function(){return H()};
d.dW=function(a,b,c){this.Pa&&this.Pa.tabId&&this.Pa.tabId==a&&("complete"==b.status||b.favIconUrl&&"complete"==c.status)&&(this.Pa.rK(c),this.Sh.gG(this.Pa.Fa),this.Pa.Fx())};d.aO=function(a,b){a.captureAudio&&b.ld&&!b.ld.getAudioTracks().length&&this.Sh.Se().send(new ah(wh,"notification","dismiss"))};var yh=function(a){ve.call(this);this.Fa=a;this.sq=!1;this.tabId=this.ox=this.iconUrl=null};u(yh,ve);d=yh.prototype;d.RI=function(a,b,c){this.Fa.description=a;this.sq||this.Fa.offTheRecord?this.iconUrl=this.ox=null:(this.ox=b,this.iconUrl=c)};d.Fx=function(){this.sq||this.Fa.offTheRecord||this.XH()};d.L7=function(a){this.tabId=a;return vh(a).then(this.rK.bind(this))};
d.rK=function(a){this.sq=a.incognito;this.RI(a.title,Ma(a.url,"file://")?"Local content (Tab)":hf(a.url.match(gf)[3]||null,!0)+" (Tab)",a.favIconUrl)};d.XH=ya;d.K=function(){this.stop()};var zh=function(a,b){this.type=a;this.data=b},Ah=function(a){a=JSON.parse(a);if(!a.type)throw Error("Invalid message");return new zh(a.type,a.data)},Bh=function(a,b,c){this.settings=a;this.mediaConstraints=b;this.description=c};var Ch=function(a){this.E2=a};Ch.prototype.Fm=function(){return H(this.E2)};var Dh=function(a,b){this.width=a;this.height=b};d=Dh.prototype;d.clone=function(){return new Dh(this.width,this.height)};d.toString=function(){return"("+this.width+" x "+this.height+")"};d.QM=function(){return this.width*this.height};d.Eb=function(){return!this.QM()};d.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
d.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};d.scale=function(a,b){b=q(b)?b:a;this.width*=a;this.height*=b;return this};var Eh=!Yc&&!Wc||Wc&&9<=Number(td)||Yc&&rd("1.9.1");Wc&&rd("9");var Gh=function(a,b){Ob(b,function(b,e){"style"==e?a.style.cssText=b:"class"==e?a.className=b:"for"==e?a.htmlFor=b:Fh.hasOwnProperty(e)?a.setAttribute(Fh[e],b):Ma(e,"aria-")||Ma(e,"data-")?a.setAttribute(e,b):a[e]=b})},Fh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Hh=function(a){return a?a.parentWindow||a.defaultView:
window},Jh=function(a,b,c,e){function f(c){c&&b.appendChild(n(c)?a.createTextNode(c):c)}for(;e<c.length;e++){var g=c[e];!Da(g)||Fa(g)&&0<g.nodeType?f(g):v(Ih(g)?y(g):g,f)}},Kh=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},Ih=function(a){if(a&&"number"==typeof a.length){if(Fa(a))return"function"==typeof a.item||"string"==typeof a.item;if(Ea(a))return"function"==typeof a.item}return!1},Lh=function(a){this.kp=a||h.document||document};d=Lh.prototype;d.setProperties=Gh;
d.createElement=function(a){return this.kp.createElement(a)};d.createTextNode=function(a){return this.kp.createTextNode(String(a))};d.getWindow=function(){var a=this.kp;return a.parentWindow||a.defaultView};d.appendChild=function(a,b){a.appendChild(b)};d.append=function(a,b){Jh(9==a.nodeType?a:a.ownerDocument||a.document,a,arguments,1)};d.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
d.removeNode=Kh;d.getChildren=function(a){return Eh&&void 0!=a.children?a.children:mb(a.childNodes,function(a){return 1==a.nodeType})};d.isElement=function(a){return Fa(a)&&1==a.nodeType};d.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var Mh=function(a,b){this.xr=[];this.XF=a;this.cB=b||null;this.mm=this.Wb=!1;this.mf=void 0;this.oy=this.VM=this.jt=!1;this.ns=0;this.xb=null;this.Jo=0};d=Mh.prototype;d.cancel=function(a){if(this.Wb)this.mf instanceof Mh&&this.mf.cancel();else{if(this.xb){var b=this.xb;delete this.xb;a?b.cancel(a):b.XM()}this.XF?this.XF.call(this.cB,this):this.oy=!0;this.Wb||this.ra(new Nh(this))}};d.XM=function(){this.Jo--;0>=this.Jo&&this.cancel()};d.UA=function(a,b){this.jt=!1;this.Ly(a,b)};
d.Ly=function(a,b){this.Wb=!0;this.mf=b;this.mm=!a;this.PB()};d.uA=function(){if(this.Wb){if(!this.oy)throw new Oh(this);this.oy=!1}};d.callback=function(a){this.uA();this.Ly(!0,a)};d.ra=function(a){this.uA();this.Ly(!1,a)};d.ka=function(a,b){return this.Qg(a,null,b)};d.kc=function(a,b){return this.Qg(null,a,b)};d.rM=function(a,b){return this.Qg(a,a,b)};d.Qg=function(a,b,c){this.xr.push([a,b,c]);this.Wb&&this.PB();return this};
d.then=function(a,b,c){var e,f,g=new ie(function(a,b){e=a;f=b});this.Qg(e,function(a){a instanceof Nh?g.cancel():f(a)});return g.then(a,b,c)};fe(Mh);d=Mh.prototype;d.zt=function(a){this.Qg(a.callback,a.ra,a);return this};d.Wz=function(a){return a instanceof Mh?this.ka(r(a.mt,a)):this.ka(function(){return a})};d.mt=function(a){var b=new Mh;this.zt(b);a&&(b.xb=this,this.Jo++);return b};d.LW=function(a){return a instanceof Error};d.cE=function(){return nb(this.xr,function(a){return Ea(a[1])})};
d.PB=function(){if(this.ns&&this.Wb&&this.cE()){var a=this.ns,b=Ph[a];b&&(b.I1(),delete Ph[a]);this.ns=0}this.xb&&(this.xb.Jo--,delete this.xb);for(var a=this.mf,c=b=!1;this.xr.length&&!this.jt;){var e=this.xr.shift(),f=e[0],g=e[1],e=e[2];if(f=this.mm?g:f)try{var k=f.call(e||this.cB,a);l(k)&&(this.mm=this.mm&&(k==a||this.LW(k)),this.mf=a=k);if(ge(a)||"function"===typeof h.Promise&&a instanceof h.Promise)this.jt=c=!0}catch(p){a=p,this.mm=!0,this.cE()||(b=!0)}}this.mf=a;c&&(k=r(this.UA,this,!0),c=r(this.UA,
this,!1),a instanceof Mh?(a.Qg(k,c),a.VM=!0):a.then(k,c));b&&(a=new Qh(a),Ph[a.gd]=a,this.ns=a.gd)};var Rh=function(a){var b=new Mh;b.callback(a);return b},Sh=function(a){var b=new Mh;b.ra(a);return b},Oh=function(){La.call(this)};u(Oh,La);Oh.prototype.message="Deferred has already fired";Oh.prototype.name="AlreadyCalledError";var Nh=function(){La.call(this)};u(Nh,La);Nh.prototype.message="Deferred was canceled";Nh.prototype.name="CanceledError";
var Qh=function(a){this.gd=h.setTimeout(r(this.e7,this),0);this.mp=a};Qh.prototype.e7=function(){delete Ph[this.gd];throw this.mp;};Qh.prototype.I1=function(){h.clearTimeout(this.gd)};var Ph={};var Xh=function(a,b){var c=b||{};b=c.document||document;var e=document.createElement("SCRIPT"),f={RH:e,Tn:void 0},g=new Mh(Th,f),k=null,p=null!=c.timeout?c.timeout:5E3;0<p&&(k=window.setTimeout(function(){Uh(e,!0);g.ra(new Vh(1,"Timeout reached for loading script "+a))},p),f.Tn=k);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Uh(e,c.Wca||!1,k),g.callback(null))};e.onerror=function(){Uh(e,!0,k);g.ra(new Vh(0,"Error while loading script "+
a))};f=c.attributes||{};Zb(f,{type:"text/javascript",charset:"UTF-8",src:a});Gh(e,f);Wh(b).appendChild(e);return g},Wh=function(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement},Th=function(){if(this&&this.RH){var a=this.RH;a&&"SCRIPT"==a.tagName&&Uh(a,!0,this.Tn)}},Uh=function(a,b,c){null!=c&&h.clearTimeout(c);a.onload=ya;a.onerror=ya;a.onreadystatechange=ya;b&&window.setTimeout(function(){Kh(a)},0)},Vh=function(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=
": "+b);La.call(this,c);this.code=a};u(Vh,La);var Yh=function(){this.fb=this.Sh=this.iq=null;this.hw=J()};za(Yh);d=Yh.prototype;d.Fm=function(){if(this.iq)return H(this.iq);this.sX().then(null,function(){this.hw.reject(Error("Failed to load hangouts mirroring script."))},this);return this.hw.promise};d.U3=function(a){this.fb=a};d.q4=function(a){this.Sh=a};d.jH=function(a){this.Sh&&(this.iq=a(this.fb,this.Sh),this.hw.resolve(this.iq))};d.sX=function(){var a=chrome.extension.getURL("mirroring_hangouts.js");return Xh(a)};var Zh="undefined"!=typeof chrome&&!!chrome.networkingPrivate&&!!chrome.networkingPrivate.setWifiTDLSEnabledState&&nh(),$h=nh()||dd;var bi=function(){this.maxWidth=1920;this.maxHeight=1080;this.minWidth=320;this.minHeight=180;this.maxFrameRate=30;this.minVideoBitrate=300;this.maxVideoBitrate=5E3;this.audioBitrate=128;this.maxLatencyMillis=800;this.animatedLatencyMillis=this.minLatencyMillis=400;this.dscpEnabled=cd||ed||nh()||oh();this.enableLogging=!0;this.useTdls=!1;this.captureAudio=this.captureVideo=!0;this.a=C("mr.mirror.Settings");var a=window.localStorage?window.localStorage.getItem(ai):null;if(n(a))try{var b=JSON.parse(a);
b&&(this.uK(b),E(this.a,"Initial mr.mirror.Settings overridden to: "+this.zy()))}catch(c){throw D(this.a,ai+' must be of the form \'{"maxWidth":640, "maxHeight":360}\'.',c),Error("Overrides not parseable.  See ERROR log for details.");}},ai="mr.mirror.Settings.Overrides";d=bi.prototype;d.clone=function(){var a=new bi;a.uK(this);return a};d.zy=function(){return JSON.stringify(this,function(a,b){if(0==a.length||"boolean"==typeof b||"number"==typeof b||"string"==typeof b)return b})};
d.uK=function(a){for(var b in this){var c=a[b];if(null!=c){var e=this[b];"boolean"!=typeof e&&"number"!=typeof e&&"string"!=typeof e||typeof e!=typeof c||(this[b]=c)}}};
d.fO=function(){var a=screen.width,b=screen.height;this.maxHeight*a<this.maxWidth*b?(a=Math.min(this.maxWidth,a),a-=a%160,b=90*a/160):(b=Math.min(this.maxHeight,b),b-=b%90,a=160*b/90);if(a<Math.max(160,this.minWidth)||b<Math.max(90,this.minHeight))a=Math.max(160,this.minWidth),b=Math.max(90,this.minHeight);this.maxWidth=a;this.maxHeight=b};d.mP=function(){this.minHeight=this.minWidth=0};
var ci=function(a,b){var c=new bi;c.captureAudio=a;c.captureVideo=b;c.fO();F(c.a,"mr.mirror.Settings after screen size adjustments: "+c.zy());return c};bi.prototype.mT=function(){return String(this.minWidth+"x"+this.minHeight)};bi.prototype.WS=function(){return String(this.maxWidth+"x"+this.maxHeight)};bi.prototype.mU=function(){return this.minWidth==this.maxWidth&&this.minHeight==this.maxHeight?"fixed":0<this.minWidth&&0<this.minHeight?"fixed-aspect-ratio":"variable"};var di=function(a,b){this.yt=a;this.Fb=b};di.prototype.GE=function(){return"tab"==this.yt};di.prototype.XJ=function(a){return this.GE()?this.j7():this.i7(a)};di.prototype.j7=function(){var a={audio:this.Fb.captureAudio,video:this.Fb.captureVideo};this.Fb.captureVideo&&(a.videoConstraints={mandatory:{minWidth:this.Fb.minWidth,minHeight:this.Fb.minHeight,maxWidth:this.Fb.maxWidth,maxHeight:this.Fb.maxHeight,maxFrameRate:this.Fb.maxFrameRate,enableAutoThrottling:!0}});return a};
di.prototype.i7=function(a){var b={audio:!1,video:!1};this.Fb.captureVideo&&(b.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:a,minWidth:this.Fb.minWidth,minHeight:this.Fb.minHeight,maxWidth:this.Fb.maxWidth,maxHeight:this.Fb.maxHeight,maxFrameRate:this.Fb.maxFrameRate}});$h&&this.Fb.captureAudio&&(b.audio={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:a}});return b};var ei=function(a,b){this.QX=a;this.Fb=b};d=ei.prototype;d.$f=function(){return this.Fb};d.mC=function(){return this.HE()?this.VU():this.FR()};d.HE=function(){return sh(this.QX)};d.VU=function(){return new di("tab",this.Fb)};d.FR=function(){return new di("desktop",this.Fb)};var fi=function(a){ve.call(this);this.v=a;this.sa={}};u(fi,ve);var gi=[];d=fi.prototype;d.listen=function(a,b,c,e){return this.gF(a,b,c,e)};d.oX=function(a,b,c,e,f){return this.gF(a,b,c,e,f)};d.gF=function(a,b,c,e,f){Ca(b)||(b&&(gi[0]=b.toString()),b=gi);for(var g=0;g<b.length;g++){var k=Qe(a,b[g],c||this.handleEvent,e||!1,f||this.v||this);if(!k)break;this.sa[k.key]=k}return this};d.Em=function(a,b,c,e){return this.eF(a,b,c,e)};
d.eF=function(a,b,c,e,f){if(Ca(b))for(var g=0;g<b.length;g++)this.eF(a,b[g],c,e,f);else{a=Xe(a,b,c||this.handleEvent,e,f||this.v||this);if(!a)return this;this.sa[a.key]=a}return this};d.Xc=function(a,b,c,e,f){if(Ca(b))for(var g=0;g<b.length;g++)this.Xc(a,b[g],c,e,f);else c=c||this.handleEvent,f=f||this.v||this,c=Re(c),e=!!e,b=Ie(a)?a.Zl(b,c,e,f):a?(a=Te(a))?a.Zl(b,c,e,f):null:null,b&&(Ze(b),delete this.sa[b.key]);return this};
d.removeAll=function(){Ob(this.sa,function(a,b){this.sa.hasOwnProperty(b)&&Ze(a)},this);this.sa={}};d.K=function(){fi.R.K.call(this);this.removeAll()};d.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var hi=function(a){this.lk=0;this.ck=a||100;this.Ce=[]};d=hi.prototype;d.add=function(a){var b=this.Ce[this.lk];this.Ce[this.lk]=a;this.lk=(this.lk+1)%this.ck;return b};d.get=function(a){a=this.QF(a);return this.Ce[a]};d.set=function(a,b){a=this.QF(a);this.Ce[a]=b};d.N=function(){return this.Ce.length};d.Eb=function(){return 0==this.Ce.length};d.clear=function(){this.lk=this.Ce.length=0};d.A=function(){return this.zT(this.N())};
d.zT=function(a){var b=this.N(),c=[];for(a=this.N()-a;a<b;a++)c.push(this.get(a));return c};d.bb=function(){for(var a=[],b=this.N(),c=0;c<b;c++)a[c]=c;return a};d.Oa=function(a){return a<this.N()};d.cj=function(a){for(var b=this.N(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};d.QF=function(a){if(a>=this.Ce.length)throw Error("Out of bounds exception");return this.Ce.length<this.ck?a:(this.lk+Number(a))%this.ck};var ii=function(){this.lH=t()},ji=new ii;ii.prototype.set=function(a){this.lH=a};ii.prototype.reset=function(){this.set(t())};ii.prototype.get=function(){return this.lH};var ki=function(a){this.d0=a||"";this.I6=ji};d=ki.prototype;d.Nz=!0;d.my=!0;d.o6=!0;d.n6=!0;d.Tr=!1;d.ny=!1;
var mi=function(a){a=new Date(a.UJ);return li(a.getFullYear()-2E3)+li(a.getMonth()+1)+li(a.getDate())+" "+li(a.getHours())+":"+li(a.getMinutes())+":"+li(a.getSeconds())+"."+li(Math.floor(a.getMilliseconds()/10))},li=function(a){return 10>a?"0"+a:String(a)},ni=function(a,b){a=(a.UJ-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},oi=function(a){ki.call(this,a)};u(oi,ki);
oi.prototype.TB=function(a){var b=[];b.push(this.d0," ");this.my&&b.push("[",mi(a),"] ");this.o6&&b.push("[",ni(a,this.I6.get()),"s] ");this.n6&&b.push("[",a.pF,"] ");this.ny&&b.push("[",a.Lh.name,"] ");b.push(a.getMessage());this.Tr&&(a=a.rp)&&b.push("\n",a instanceof Error?a.message:a.toString());this.Nz&&b.push("\n");return b.join("")};var pi=function(a){return(a=a.exec(hc))?a[1]:""},qi=function(){if(zf)return pi(/Firefox\/([0-9.]+)/);if(Wc||Xc||Vc)return pd;if(Df)return pi(/Chrome\/([0-9.]+)/);if(Ef&&!(Uc()||z("iPad")||z("iPod")))return pi(/Version\/([0-9.]+)/);if(Af||Bf){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(hc);if(a)return a[1]+"."+a[2]}else if(Cf)return(a=pi(/Android\s+([0-9.]+)/))?a:pi(/Version\/([0-9.]+)/);return""}();var ri=function(a,b,c,e,f,g,k){this.cd=null;this.CA=!1;this.BA=J();this.hc=[];this.pl=a?encodeURIComponent(String(a)):null;this.VB=null;!e&&b&&(this.VB=b);this.MM=c||null;this.Do=!e;this.lp=null!=f?f:null;this.Rq=g||null;this.U7=!!k};u(ri,ve);d=ri.prototype;d.init=function(){var a=r(function(a){this.cd=a;var b=xa("client.request",a),f=xa("auth",a);b&&f?this.XD():a.load("client",r(this.XD,this))},this),b=this.KB("gapi");b?a(b.gapi):this.rX(a);return this.BA.promise};
d.KB=function(a){for(var b=window,c=xa(a,b);!c&&b!=window.top&&this.JN(b.parent,a);)b=b.parent,c=xa(a,b);return c?b:null};d.JN=function(a,b){try{return!!a&&null!=a.location.href&&ye(a,b)}catch(c){return!1}};d.rX=function(a){var b=this.KB("gapi_onload");if(b){var c=b.gapi_onload;b.gapi_onload=function(){c();a(b.gapi)}}else window.gapi_onload=function(){a(window.gapi)},Xh("https://apis.google.com/js/client.js")};
d.XD=function(){for(var a=0;a<this.hc.length;a++)this.hc[a].mb.resolve(this.$H(this.hc[a].x1));this.CA=!0;this.BA.resolve(this.cd)};d.sendRequest=function(a){if(this.CA)return this.$H(a);var b=J();this.hc.push({x1:a,mb:b});return b.promise};
d.$H=function(a){var b,c,e,f=xa("config.get",this.cd);this.Do||(b=f("googleapis.config/auth/useFirstPartyAuth"),c=f("googleapis.config/auth/useOriginToken"));null!=this.lp&&(e=f("client/cors"));try{var g=xa("config.update",this.cd);this.Do||(g("googleapis.config/auth/useFirstPartyAuth",!1),g("googleapis.config/auth/useOriginToken",!1));null!=this.lp&&g("client/cors",this.lp);var k=xa("client.request",this.cd),p=this.JQ();a.headers&&Zb(p,a.headers);var w={headers:p,root:this.MM,path:a.path,method:a.method,
body:a.body},B=a.params||{};this.pl&&!this.Rq?Zb(B,{key:this.pl}):this.Rq&&Zb(B,{key:null});Vb(B)||(w.params=B);var L=H(k(w));a.callback&&L.then(function(b){a.callback.apply(null,[b.result,b])},function(b){a.callback.apply(null,[b.result,b])});return L}finally{g=xa("config.update",this.cd),this.Do||(g("googleapis.config/auth/useFirstPartyAuth",b),g("googleapis.config/auth/useOriginToken",c)),null!=this.lp&&g("client/cors",e)}};
d.JQ=function(){if(this.Do){if(this.Rq)return{Authorization:"Bearer "+this.Rq};var a=xa("auth.getAuthHeaderValueForFirstParty",this.cd);return{Authorization:this.U7?a([]):a(),"X-Goog-AuthUser":this.VB}}return{}};
